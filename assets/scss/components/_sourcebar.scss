$open-width: 200px;
$closed-width: 44px;

/*
  Wraps the sourcebar to allow
  scrolling and sets the width
  and background-colors.
*/
.sourcebar-wrap {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  background: $dark-bg-color;
  overflow-x: hidden;
  overflow-y: scroll;
  width: $open-width;


  &.closed {
    width: $closed-width;
  }

}

/*
    Holds the actual list items.
  */
.sourcebar {
  width: $open-width;
  &.closed {
    width: $closed-width;
  }

  ul {
    list-style-type: none;
    list-style-position: inside;
    margin: 0;
    padding: 0;

    &:last-child {
      border-bottom: 0;
    }
    &:first-child {
      border-top: 0;
      padding-top: 0;
    }
  }

  li {
    a {
      display: block;
      line-height: 2.3rem;
      padding: 0 4rem 0 1rem;
      position: relative;
      border-left: 7px solid $dark-bg-color;
      &:hover {
        background-color: $dark-bg-color * 1.3;
        color: $dark-bg-hilite * 1.5;
        border-color: $dark-bg-hilite * 1.5;
      }

      .label {
        position: absolute;
        right: 1rem;
        top: 0.5rem;
      }

    }
    &.active a {
      background-color: $dark-bg-color * 1.2;
      border-color: $dark-bg-hilite;
      color: #fff;
    }
    .fa {
      margin-right: 0.62rem;
    }
  }

  li.spacer {
    height: 1rem;
  }

  a {
    color: $dark-bg-font;
  }

  hr {
    height: 1px;
    border-top: 1px solid $dark-bg-color / 1.5;
    border-bottom: 1px solid $dark-bg-color * 1.3;
    margin: 0.62rem 0;
  }
}

// Child lists
.sourcebar > ul > li.active {
  ul {

    a {
      background: $dark-bg-color * 1.4;
      font-size: 0.9rem;
      line-height: 2.1;
      color: $dark-bg-font / 1.1;
      border-color: $dark-bg-hilite / 1.2;

      &:hover {
        border-color: inherit;
        color: $dark-bg-hilite * 1.5;
      }
    }

    li.active {
      a {
        font-weight: bold;
        border-color: $dark-bg-color;
      }
    }
  }
}

/*
  Sourcebar Header
*/
.sourcebar header {
  padding: 0.6rem 1rem 0.2rem 1rem;
  border-bottom: 1px solid $dark-bg-color * 1.5;
  margin-bottom: 1rem;

  a:hover .avatar {
    border-color: $dark-bg-hilite * 1.3;
  }

  .logout-btn {
    font-size: 2rem;
    color: $dark-bg-font / 1.5;

    &:hover {
      color: $dark-bg-hilite * 1.3;
    }
  }
}
